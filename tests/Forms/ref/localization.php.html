<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="content-language" content="en" />

	<title>Nette\Forms example 3 | Nette Framework</title>

	<style type="text/css">
	<!--
	.required {
		color: darkred
	}

	fieldset {
		padding: .5em;
		margin: .3em 0;
		background: #EAF3FA;
		border: 1px solid #b2d1eb;
	}

	input.button {
		font-size: 120%;
	}

	th {
		width: 8em;
		text-align: right;
	}
	-->
	</style>
</head>

<body>
	<h1>Nette\Forms example 3</h1>

	<form action="" method="post" enctype="multipart/form-data" onsubmit="return validate(this)">

<fieldset>
<legend>Osobní údaje</legend>

<table>
<tr class="required">
	<th><label class="required" for="frm-name">Jméno:</label></th>

	<td><input type="text" size="35" class="text" name="name" id="frm-name" value="John Doe" /></td>
</tr>

<tr class="required">
	<th><label class="required" for="frm-age">Věk:</label></th>

	<td><input type="text" size="5" class="text" name="age" id="frm-age" value="" /></td>
</tr>

<tr>
	<th><label>Pohlaví:</label></th>

	<td><input type="radio" name="gender" id="frm-gender-0" value="m" /><label for="frm-gender-0">muž</label><br /><input type="radio" name="gender" id="frm-gender-1" value="f" /><label for="frm-gender-1">žena</label><br /></td>
</tr>

<tr>
	<th><label for="frm-email">E-mail:</label></th>

	<td><input type="text" size="35" class="text" name="email" id="frm-email" value="&#64;" /></td>
</tr>
</table>
</fieldset>

<fieldset>
<legend>Dodací adresa</legend>

<table>
<tr>
	<th>&nbsp;</th>

	<td><input type="checkbox" onclick="toggle(this)" name="send" id="frm-send" /><label for="frm-send">Odeslat na adresu</label></td>
</tr>
</table>

<div id="sendBox">
<table>
<tr>
	<th><label for="frm-street">Ulice:</label></th>

	<td><input type="text" size="35" class="text" name="street" id="frm-street" value="" /></td>
</tr>

<tr class="required">
	<th><label class="required" for="frm-city">Město:</label></th>

	<td><input type="text" size="35" class="text" name="city" id="frm-city" value="" /></td>
</tr>

<tr class="required">
	<th><label onclick="return false" class="required" for="frm-country">Země:</label></th>

	<td><select onfocus="this.onmousewheel=function(){return false}" name="country" id="frm-country"><option value="0">Vyberte zemi</option><optgroup label="Europe"><option value="CZ" selected="selected">Česká republika</option><option value="SK">Slovensko</option></optgroup><option value="US">USA</option><option value="?">jiná</option></select></td>
</tr>
</table>
</div></fieldset>


<fieldset>
<legend>Váš účet</legend>

<table>
<tr class="required">
	<th><label class="required" for="frm-password">Zvolte si heslo:</label></th>

	<td><input type="password" size="20" class="text" name="password" id="frm-password" /></td>
</tr>

<tr class="required">
	<th><label class="required" for="frm-password2">Pro kontrolu:</label></th>

	<td><input type="password" size="20" class="text" name="password2" id="frm-password2" /></td>
</tr>

<tr>
	<th><label for="frm-avatar">Obrázek:</label></th>

	<td><input type="file" class="text" name="avatar" id="frm-avatar" /></td>
</tr>

<tr>
	<th><label for="frm-note">Poznámka:</label></th>

	<td><textarea cols="30" rows="5" name="note" id="frm-note"></textarea></td>
</tr>
</table>
</fieldset>

<fieldset>
<table>
<tr>
	<th>&nbsp;</th>

	<td><input type="submit" class="button" name="submit1" id="frm-submit1" value="Odeslat" /></td>
</tr>
</table>
</fieldset>

<div><input type="hidden" name="userid" value="231" /></div>
</form>
<script type="text/javascript">
/* <![CDATA[ */
function validate(sender) {
	var element, message, res;
	do {
	element = document.getElementById("frm-name");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val!='' && val!="";
	if (!res) { message = "Zadejte jm\u00e9no"; if (element) element.focus(); alert(message); return false; }
	} while(0);

	do {
	element = document.getElementById("frm-age");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val!='' && val!="";
	if (!res) { message = "Zadejte v\u00e1\u0161 v\u011bk"; if (element) element.focus(); alert(message); return false; }
	element = document.getElementById("frm-age");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = /^-?[0-9]+$/.test(val);
	if (!res) { message = "V\u011bk mus\u00ed b\u00fdt \u010d\u00edslo"; if (element) element.focus(); alert(message); return false; }
	element = document.getElementById("frm-age");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = parseFloat(val)>=10 && parseFloat(val)<=100;
	if (!res) { message = "V\u011bk mus\u00ed b\u00fdt v rozmez\u00ed 10 a\u017e 100"; if (element) element.focus(); alert(message); return false; }
	} while(0);

	do {
	element = document.getElementById("frm-email");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val!='' && val!="@";
	if (res) {
		element = document.getElementById("frm-email");
		var val = element.value.replace(/^\s+|\s+$/g, '');
		res = /^[^@]+@[^@]+\.[a-z]{2,6}$/i.test(val);
		if (!res) { message = "Zadan\u00fd e-mail nen\u00ed platn\u00fd"; if (element) element.focus(); alert(message); return false; }
	}
	} while(0);

	do {
	element = document.getElementById("frm-send");
	var val = element.checked;
	res = (val==true);
	if (res) {
		element = document.getElementById("frm-city");
		var val = element.value.replace(/^\s+|\s+$/g, '');
		res = val!='' && val!="";
		if (!res) { message = "Zadejte dodac\u00ed adresu"; if (element) element.focus(); alert(message); return false; }
	}
	} while(0);

	do {
	element = document.getElementById("frm-send");
	var val = element.checked;
	res = (val==true);
	if (res) {
		element = document.getElementById("frm-country");
		res = element.selectedIndex >= 1;
		if (!res) { message = "Vyberte zemi"; if (element) element.focus(); alert(message); return false; }
	}
	} while(0);

	do {
	element = document.getElementById("frm-password");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val!='' && val!="";
	if (!res) { message = "Zvolte si heslo"; if (element) element.focus(); alert(message); return false; }
	element = document.getElementById("frm-password");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val.length>=3;
	if (!res) { message = "Heslo mus\u00ed m\u00edt alespo\u0148 3 znaky"; if (element) element.focus(); alert(message); return false; }
	} while(0);

	do {
	element = document.getElementById("frm-password");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = function(){
	element = document.getElementById("frm-password");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val!='' && val!="";
	if (!res) { return false; }
	element = document.getElementById("frm-password");
	var val = element.value.replace(/^\s+|\s+$/g, '');
	res = val.length>=3;
	if (!res) { return false; }
	return true; }();
	if (res) {
		element = document.getElementById("frm-password2");
		var val = element.value.replace(/^\s+|\s+$/g, '');
		res = val!='' && val!="";
		if (!res) { message = "Zadejte heslo je\u0161t\u011b jednou pro kontrolu"; if (element) element.focus(); alert(message); return false; }
		element = document.getElementById("frm-password2");
		var val = element.value.replace(/^\s+|\s+$/g, '');
		res = (val==function(){var element;element = document.getElementById("frm-password");
		var val = element.value.replace(/^\s+|\s+$/g, '');
		return val;}());
		if (!res) { message = "Zadan\u00e1 hesla se neshoduj\u00ed"; if (element) element.focus(); alert(message); return false; }
	}
	} while(0);

	return true;
}

function toggle(sender) {
	var element, visible, res;
	visible = true; element = document.getElementById("frm-send");
	var val = element.checked;
	res = (val==true); visible = visible && res;
	element = document.getElementById('sendBox');
	if (element) element.style.display = visible ? "" : "none";
	
}

toggle(null);
/* ]]> */
</script>
</body>
</html>
